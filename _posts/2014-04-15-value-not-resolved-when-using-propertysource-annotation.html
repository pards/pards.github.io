---
layout: post
title: ! '@Value not resolved when using @PropertySource annotation.'
categories:
- Software Development
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '2'
  _syntaxhighlighter_encoded: '1'
  _aioseop_title: ! '@Value not resolved when using @PropertySource annotation.'
author:
  login: craig
  email: craigpardey@gmail.com
  display_name: craig
  first_name: Craig
  last_name: Pardey
---
<p>Spring's gotcha-of-the-day is around using @Value to resolve property placeholders in combination with @PropertySource.</p>
<p>I had the following Spring Java configuration:<br />
[java]<br />
@Configuration<br />
@PropertySource(&quot;classpath:/test.properties&quot;)<br />
public class TestAppConfig {</p>
<p>	@Value(&quot;${queue.name}&quot;)<br />
	private String queue;</p>
<p>	@Bean(name=&quot;queue&quot;)<br />
	public String getQueue() {<br />
		return queue;<br />
	}<br />
}<br />
[/java]</p>
<p>But the value in "queue" was not resolving - it returned "${queue.name}" as the value.</p>
<p>It turns out that I needed the following magical incantation to get it to work.<br />
[java]<br />
    @Bean<br />
    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {<br />
       return new PropertySourcesPlaceholderConfigurer();<br />
    }<br />
[/java]</p>
